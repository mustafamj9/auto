trigger:
  branches:
    include:
      - main

pool:
  vmImage: "windows-latest"

steps:
  - task: UseDotNet@2
    inputs:
      packageType: "sdk"
      version: "8.0.x"
      installationPath: $(Agent.ToolsDirectory)/dotnet

  - script: dotnet restore
    displayName: "Restore dependencies"

  - script: dotnet build --configuration Release
    displayName: "Build the project"

  - script: dotnet test --no-build --verbosity normal
    displayName: "Run tests"
